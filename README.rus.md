# Асинхронное индексирование
### Лабораторная работа #1
[[презентация]](https://www.dropbox.com/s/87wf7nosd832sk3/Task%201.pptx?dl=0) [[репозиторий]](https://github.com/Andrew414/indexingtask) [[english]](https://github.com/Andrew414/indexingtask/blob/master/README.md)

### Условие
Необходимо написать программу или скрипт, которые способы вычислить хеш файла поблочно и сохранить информацию в файл. У программы должен быть интерфейс командной строки, настройка должна проводиться через входные параметры:

Путь к исполняемому файлу|Путь к файлу|Размер блока|Алгоритм|Режим запуска
-------------------------|------------|------------|--------|-------------
`C:\firsttask.exe`|`C:\Rogue-One.avi`|`1048576`|`md5`|`sync`

Аргумент `Режим запуска` опционален, программа должна работать, если он не был передан.

Программа должна проверять входные параметры и должна корректно завершаться, если эти параметры ошибочны. Если аргументы в порядке, программа должна читать `[размер_файла / размер_блока]` блоков из файла, независимо вычислять их хеши, и сохранять эти хеши в выходной файл в правильном порядке.

###### Входные параметры
Параметр|Возможные значения
--------|------------------
Путь к файлу|Правильный путь. Программа должна завершаться, если путь некорректен или если файл невозможно прочитать
Размер блока|Степень 2 (2^n), от 1024 до 1048576 (от 1KB до 1MB)
Алгоритм|md5, sha1
Режим|sync, async (Если параметр не передан, программа должна запускаться в режиме async)


###### Выходной файл
Имя выходного файла состоит из имени входного файла и суффикса `.hashes_<алгоритм>`. Например, для входного файла `C:\abc.txt` и алгоритма md5 выходной файл будет иметь имя `C:\abc.txt.hashes_md5`

Пример выходного файла (входной файл содержит 4 блока)|
------------------------------------------------------|
`3a37312509712d4e12d27240137ff377`|
`1b8677ea56b9e7139b4df2ce15b70826`|
`8148ddb015d5ab4d2ff57b4cd7355f7f`|
`7dc98705a83e4156ddc8888203e629af`|

###### Дополнительные требования
Программа должна быть написана с использованием общепринятого [**стандарта**](https://ru.wikipedia.org/wiki/Стандарт_оформления_кода). Если для выбранного языка есть один такой стандарт, используйте его, иначе выберите любой для своего языка программирования и укажите в комментариях к Pull Request, какой именно стандарт выбран.

Кроме того, программа должна быть покрыта [**Unit-тестами**](https://ru.wikipedia.org/wiki/Модульное_тестирование).

### Дополнительные задания
Три задачи:
* Добавить измерение производительности
  * Нужно сравнить скорость хеширования (скорость процессора) и чтения (скорость диска)
  * Стастистка производительности должна быть выведена на консоль и содержать четыре характеристики: Средняя скорость чтения (MB/s), средняя скорость хеширования (MB/s), время, потраченное на чтение (секунды), время, потраченное на хеширование (секунды)
* Добавить алгоритмы CRC32 и SHA2 (SHA256)
  * К параметру `алгоритм` добавляются два новых возможных варианта - `crc32` и `sha2`
* Добавить графический интерфейс
  * В графическом интерфейсе должна быть возможность выбора файла, размера блока, алгоритма и режима, кроме того, должна быть показана статистика производительности и прогресс

### Репозиторий
[Репозиторий](https://github.com/Andrew414/indexingtask) содержит главную страницу [`README.md`](https://github.com/Andrew414/indexingtask/blob/master/README.rus.md) и четырнадцать персональных каталогов. Необходимо сделать копию (fork) репозитория и вносить все изменения только в свой персональный каталог. Все эти каталоги содержат пустой файл `.gitignore`, куда нужно вписать все временные файлы из лабораторной работы. Остальные файлы должны быть файлами кода (в т.ч. проекта).

### Сдача лабораторной работы
Можно выбрать любой язык программирования, IDE и фреймворки/библиотеки. Если для работы нужны какие-то нестандартные конфигурации или ПО, предоставьте инструкцию по настройке среды.

Запрещено использовать библиотеки и фреймворки, которые выполняют работу, близкую к условию лабораторной. Например, можно использовать криптографические библиотеки с реализацией алгоритмов хеширования и средства для поблочного чтения файлов и для организации многопоточности, но нельзя использовать инструменты, позволяющие автоматически разбить файл, вычислить хеши блоков и сохранить их в файл.

Сдача через **Pull Request** из вашего клонированного репозитория. Pull Request должен содержать код, файлы проекта и информационные файлы. Результаты сборок и временные файлы должны быть исключены из коммитов.

### Оценка
Максимум за лабораторную работу - **10 баллов**.
- **4 балла** за главную задачу
- **3 балла**, если работа сделана вовремя
- **1 балл** за реализацию *crc32* и *sha2*
- **1 балл** за подзадачу *проверка производительности* 
- **1 балл** за подзадачу *графический интерфейс*

### Сроки
На выполнение лабораторной дается 4 недели (20 февраля - 20 марта). Время, потраченное на исправление недочетов, найденных во время ревью, не учитывается.

### Желаю удачи!
